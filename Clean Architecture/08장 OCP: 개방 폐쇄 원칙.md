# 개방 폐쇄 원칙

> 소프트웨어 개체는 확장에는 열려있어야 하고, 변경에는 닫혀 있어야 한다.

## 사고 실험

**변경되는 코드의 양을 최소화하는 법**

- SRP : 각기 다른 목적으로 변경되는 요소를 분리한다.
- DIP : 이 요소들 사이에 의존성을 체계화한다.

**소스 코드 의존성 조직화하는 법**

- 처리 과정을 클래스 단위로 분할하고, 클래스는 컴포넌 단위로 분리한다.

- 컴포넌트 관계는 단방향으로 이루어지도록 한다.

아키텍트는 기능이 어떻게, 왜, 언제 발생하는지에 따라 기능 분리하고 분리한 기능을 컴포넌트 계층구조로 조직화한다.

컴포넌트 계층구조를 예시처럼 조직화하면 저수준 컴포넌트에서 발생한 변경부터 고수준컴포넌트까지 보호할 수 있다.

## 방향성 제어

의존성을 역전 시키기 위해 인터페이스를 추가할 수 있다.

## 정보 은닉

추이 종속성을 가지는 것을 막기 위해 인터페이스를 추가할 수 있다.

## 결론

OCP의 목표는 시스템을 확장하기 쉬운 동시에 변경으로 인해 시스템이 너무 많은 영향을 받지 않도록 막는 것이다. 이렇게 하기 위해, 시스템을 컴포넌트 단위로 분리하고 저수준 ~ 고수준 컴포넌트를 보호할 수 있는 형태의 의존성 계층구조가 만들어지도록 해야 한다.
