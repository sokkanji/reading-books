# 스냅숏 테스트와 시각적 테스트

## 스냅숏 테스트

UI 구성 요소를 직렬화된 DOM 요소나 이미지 현태의 스냅숏으로 기록해 이전에 기록해뒀던 스냅숏과 비교하는 테스트

### 스냅숏 테스트

1.  구성 요소를 렌더링합니다
2.  렌더링된 결과를 직렬화해 스냅숏과 비교합니다
3.  스냅숏과 같은 경우 테스트가 통과하며 스냅숏이 없을 경우 업데이트합니다
4.  스냅숏과 다른 경우 예상했던 DOM의 변경 사항인지 확인 후 스냅숏을 업데이트한다

### 스냅숏 테스트이 장점과 단점

- 장점
  - DOM 구조뿐만 아니라 직렬화가 되는 객체의 상태 변화, API 응답과 같은 모든 데이터를 검증할 수 있다
- 단점
  - 사이클이 있는 TDD 를 수행하기에 적합하지 않음 상황에 맞게 업데이트를 하지 않으면 항상 실패할 것이다

### 스냅숏 테스트 작성하는 법

- 테스트 단위를 작게 잡는다
- 프로젝트의 강제할 필요성이 있다면 eslint-plugin-jest의 no-large-snapshot 를 사용해 최대 크기와 깊이를 지정해줄 수 있다

## 시각적 회귀(Visual regression) 테스트

변경 사항으로 인해 안정적이던 소프트웨어 기능에 문제가 생기거나, 수정했떤 버그가 다시 발생하는 것을 검출하는 테스트

### 스토리북

오픈 소스 UI 개발 도구
서버나 외부 환경에서 분리되어 컴포넌트들의 조합이나 특정 UI 상황을 스토리로 생성하고 관리하는 것에 도움을 줌
