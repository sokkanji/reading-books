# 네트워크 통신

## HTTP란?

HTML과 같은 하이퍼미디어 문서를 전송하기 위한 프로토콜

클라이언트 측과 서버는 프로토콜을 통해 정해진 포맷에 맞춰 통신한다.

- request : 클라이언트에서 서버로 전송하는 메시지
- response : 서버에서 클라이언트로 전송하는 메시지
- protocol : 데이터 전송 방식의 규약

- http
  - 주로 TCP 사용
  - 기본 포트 80번
- https

  - 보안이 강화된 HTTPS(Hyper Text Transfer Protocol over SSL)를 주로 사용된다.
  - 기본 포트 443번

- HTTP 응답 코드

  - HTTP 요청이 성공적으로 완료되었는지 알려주는 세 자리 정수

## 상태 코드

| 상태 코드                   | 설명                                                                                                                                     |
| --------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
| 1xx (Informational)         | 서버에서 요청을 수신했으며 현재 처리하고 있거나 정보를 알려줄 필요가 없을 경우                                                           |
| 2xx (Successful)            | 요청이 성공적으로 완료됨                                                                                                                 |
| 3xx (Redirection)           | 요청을 마치기 위해 다른 위치로 리다이렉션하는 것과 같이 추가로 동작을 취해야 할 때 사용됨                                                |
| 4xx (Client Error)          | 요청에 잘못된 구문이 포함되어있거나 수행할 수 없는 경우 반환됨                                                                           |
| 400 (Bad Request)           | 요청 오류, 잘못된 문법으로 인해 서버가 해당 응답을 이해할 수 없음                                                                        |
| 401 (Unauthorized)          | 권한 없음                                                                                                                                |
| 403 (Forbidden)             | 접근이 금지될 때 반환됨                                                                                                                  |
| 404 (Not Found)             | 서버가 요청 받은 리소스가 없을 때 반환, 잘 못된 URL 요청, 리소스 자체가 없을 때                                                          |
| 5xx (Server Error)          | 서버가 유효한 요청을 수행하지 못했을 때 반환됨                                                                                           |
| 500 (Internal Server Error) | 서버가 처리 방법을 모를 경우 발생함                                                                                                      |
| 502 (Bad Gateway)           | 게이트웨이나 프록시 작업 시 잘못된 응답을 수신한 것을 의미함                                                                             |
| 503 (Service Unavailable)   | 서버가 요청을 처리할 준비가 되지 않은 경우 반환, 서버에 과부하가 걸리거나 배포 도중 서비스가 중단되는 상황 등에 해당 상태 코드를 반환함. |

## 메서드

### safe

서버의 상태를 변경하지 않는 메서드의 경우 safe 하다고 한다.
Get, Head, Option 메서드는 safe 한 메서드다.

### 멱등성(Idempotent)

동일한 요청을 한 번 보낼 때와 여러 번 연속으로 보낼 때 같은 동작을 하고, 서버의 상태 또한 동일할 때 멱등성을 갖는다고 한다.

Get, Head, Put, Delete 메서드가 멱등성을 가진다.
Put, Delete는 서버의 상태를 변경하기 때문에 멱등성을 가지지만, safe 하지 않다.

### Cacheable

응답을 저장해 향후 재사용을 할 수 있는 것을 의미한다.

## 헤더

서버와 클라이언트 사이에서 body 외에 추가적인 정보를 교환하는 방식

### Request, Response 헤더

Request 헤더 : 요청하는 자원이나 클라이언트 측의 정보를 포함
Response 헤더 : 서버의 위치나 응답에 대한 부가 정보를 포함

### Entity 헤더

본문에 대한 메타 정보 또는 본문이 없는 경우 요청으로 식별된 자원에 대한 메타 정보를 포함
ex: Content-length, text/html, Content-type

### General 헤더

Request 및 Response 모두에서 사용되는 헤더로 사용되는 문맥에 따라 Request 헤더가 되거나 Response 헤더가 된다

ex: Date, Cache-Control

## 쿠키

HTTP 쿠키는 서버가 사용자의 웹 브라우저에 전송하는 작은 기록 정보 파일

- 보안에 취약해서 중요한 정보를 담지 않아야 한다.
- 이름, 값 속성으로 정보를 저장하고 쿠키의 만료 기간, 도메인, Secure, HttpOnly 정보를 기록함

### 쿠키 만들기

서버에 전송된 HTTP 응답의 Set-Cookie 헤더로 쿠키 만들기

```
HTTP/1.1 200 OK
Content-type: text/html
Set-Cookie: cookie1=value1
Set-Cookie: cookie2=value2
```

### 쿠키 삭제

```
GET /page.html HTTP1.1
HOST: ...
Cookie: cookie=value1; cookie=value2
```

### 쿠키 스코프

### Secure 와 HttpOnly

## 교차 출처 리소스 공유

## JSON

## Ajax

### XMLHttpRequest

### Promise

### Promise 체이닝

## async, await

## fetch()

## 웹소켓
